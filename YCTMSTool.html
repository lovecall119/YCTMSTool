<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MapleStory Combined Tools</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Demo specific layout overrides */
        body {
            /* Override centering behavior from style.css for scrolling page */
            display: block;
            height: auto;
            align-items: flex-start;
        }

        .demo-wrapper {
            display: flex;
            gap: 3rem;
            flex-wrap: wrap;
            justify-content: center;
            align-items: flex-start;
            padding: 2rem;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .converter-card {
            margin: 0;
            /* Reset margins */
        }

        /* Ensure responsive stacking */
        @media (max-width: 900px) {
            .demo-wrapper {
                flex-direction: column;
                align-items: center;
                gap: 2rem;
            }
        }
    </style>
</head>

<body>
    <div class="background-mesh"></div>

    <div class="demo-wrapper">
        <!-- Section 1: Currency & Timer (from index.html) -->
        <!-- Note: Excluded legacy Soul/Fragment inputs to avoid ID conflicts -->
        <div class="converter-card">
            <header>
                <h1>MapleStory Currency Converter</h1>
                <p>即時幣值換算工具</p>
            </header>

            <form class="converter-form" onsubmit="event.preventDefault();">
                <div class="input-group">
                    <label for="rateType">
                        幣值 (萬)
                        <span class="tooltip" data-tooltip="輸入 2000 代表 1 台幣 = 2000 萬楓幣">?</span>
                    </label>
                    <div class="input-wrapper">
                        <input type="number" id="rateType" placeholder="2000" value="2000" inputmode="numeric">
                        <span class="unit">萬 : 1 TWD</span>
                    </div>
                </div>

                <div class="divider">
                    <span>換算</span>
                </div>

                <div class="input-group">
                    <label for="ntdInput">台幣 (TWD)</label>
                    <div class="input-wrapper">
                        <span class="currency-symbol">$</span>
                        <input type="text" id="ntdInput" placeholder="0" inputmode="decimal">
                    </div>
                </div>

                <div class="input-group">
                    <label for="mesosInput">楓幣 (Mesos)</label>
                    <div class="input-wrapper">
                        <span class="currency-symbol icon-mesos">M</span>
                        <input type="text" id="mesosInput" placeholder="0" inputmode="decimal">
                    </div>
                    <div class="helper-text" id="mesosChineseDisplay"></div>
                </div>

                <div class="divider">
                    <span>燃燒階段監控</span>
                </div>

                <div class="burning-timer-section">
                    <div class="timer-display">
                        <div class="level-box">
                            <span class="level-label">燃燒階段</span>
                            <span class="level-value" id="burningLevel">10</span>
                        </div>
                        <div class="time-box">
                            <span class="time-value" id="timerDisplay">15:00</span>
                        </div>
                    </div>
                    <button type="button" class="reset-btn" id="resetTimerBtn">
                        重置燃燒等級 (10)
                    </button>
                </div>
            </form>
        </div>

        <!-- Section 2: Hexa Resources (from MSHexa.html) -->
        <div class="converter-card wide-card">
            <header>
                <h1>Hexa Matrix Resources</h1>
                <p>六轉資源記錄工具</p>
            </header>

            <form class="converter-form" onsubmit="event.preventDefault();">

                <div class="input-group">
                    <label for="soulInput">靈魂 (Soul)</label>
                    <div class="input-wrapper">
                        <input type="number" id="soulInput" placeholder="0" inputmode="numeric">
                    </div>
                </div>

                <div class="input-group">
                    <label for="fragmentInput">碎片 (Fragment)</label>
                    <div class="input-wrapper">
                        <input type="number" id="fragmentInput" placeholder="0" inputmode="numeric">
                    </div>
                </div>

                <button type="button" class="reset-btn" id="confirmBtn"
                    style="margin-top: 1rem; background: linear-gradient(135deg, #00b894, #00cec9);">
                    確認輸入
                </button>

                <div class="divider">
                    <span>歷史紀錄</span>
                </div>

                <div class="history-container">
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>日期</th>
                                <th>時間</th>
                                <th>靈魂</th>
                                <th></th>
                                <th>碎片</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="historyBody">
                            <!-- Data will be injected here -->
                        </tbody>
                    </table>
                    <div id="noDataMsg" class="no-data">尚無紀錄</div>
                </div>
            </form>
        </div>

        <!-- Section 3: Todo List -->
        <div class="converter-card" style="min-width: 350px;">
            <header>
                <h1>Todo List</h1>
                <p>待辦事項清單</p>
            </header>

            <div class="input-group">
                <div class="input-wrapper">
                    <input type="text" id="todoInput" placeholder="輸入待辦事項..." style="padding-right: 3rem;">
                    <button id="addTodoBtn" class="add-btn">+</button>
                </div>
            </div>

            <div class="divider">
                <span>列表</span>
            </div>

            <ul id="todoList" class="todo-list">
                <!-- Todos will be injected here -->
            </ul>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/script.js"></script>
    <script type="module" src="js/hexa.js"></script>
    <script type="module" src="js/todo.js"></script>
</body>

</html>